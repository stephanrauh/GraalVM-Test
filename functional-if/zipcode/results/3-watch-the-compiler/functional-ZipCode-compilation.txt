     45    1    b        java.lang.StringLatin1::hashCode (42 bytes)
     81    2     n       java.lang.invoke.MethodHandle::linkToStatic(LLLLLL)L (native)   (static)
     83    3     n       java.lang.invoke.MethodHandle::invokeBasic(LLLLL)L (native)   
     83    4     n       java.lang.invoke.MethodHandle::linkToSpecial(LLLLLLL)L (native)   (static)
     85    5     n       java.lang.invoke.MethodHandle::linkToStatic(L)I (native)   (static)
     85    6     n       java.lang.invoke.MethodHandle::invokeBasic()I (native)   
     85    7     n       java.lang.invoke.MethodHandle::linkToSpecial(LL)I (native)   (static)
     85    8     n       java.lang.invoke.MethodHandle::linkToStatic(LIIL)L (native)   (static)
     85    9     n       java.lang.invoke.MethodHandle::linkToStatic(IIL)L (native)   (static)
     86   10     n       java.lang.invoke.MethodHandle::linkToStatic(LL)L (native)   (static)
     88   11     n       java.lang.invoke.MethodHandle::linkToStatic(LLL)L (native)   (static)
     88   12     n       java.lang.invoke.MethodHandle::linkToStatic(LLLL)L (native)   (static)
     89   13     n       java.lang.invoke.MethodHandle::invokeBasic(LII)L (native)   
     89   14     n       java.lang.invoke.MethodHandle::linkToSpecial(LLIIL)L (native)   (static)
     92   15     n       java.lang.invoke.MethodHandle::linkToStatic(ILILL)I (native)   (static)
     93   16     n       java.lang.invoke.MethodHandle::linkToStatic(LLLLL)L (native)   (static)
     93   17     n       java.lang.invoke.MethodHandle::invokeBasic(ILIL)I (native)   
     93   18     n       java.lang.invoke.MethodHandle::linkToSpecial(LILILL)I (native)   (static)
     93   19     n       java.lang.invoke.MethodHandle::invokeBasic(LLLL)L (native)   
     95   20     n       java.lang.invoke.MethodHandle::invokeBasic(ILI)I (native)   
     95   21     n       java.lang.invoke.MethodHandle::linkToSpecial(LILIL)I (native)   (static)
     96   22     n       java.lang.invoke.MethodHandle::linkToStatic(LLLLLLL)L (native)   (static)
     96   23     n       java.lang.invoke.MethodHandle::invokeBasic(II)L (native)   
     97   24     n       java.lang.invoke.MethodHandle::linkToSpecial(LIIL)L (native)   (static)
     97   25     n       java.lang.invoke.MethodHandle::invokeBasic(LLLLLL)L (native)   
     98   26     n       java.lang.invoke.MethodHandle::linkToStatic(ILL)I (native)   (static)
     98   27    b        java.lang.Object::<init> (1 bytes)
     99   28    b        java.lang.String::isLatin1 (19 bytes)
    100   29     n       java.lang.invoke.MethodHandle::linkToStatic(LLLLLLLL)L (native)   (static)
    100   30     n       java.lang.invoke.MethodHandle::invokeBasic(IL)I (native)   
    100   31     n       java.lang.invoke.MethodHandle::linkToSpecial(LILL)I (native)   (static)
    100   32     n       java.lang.invoke.MethodHandle::invokeBasic(LLLLLLL)L (native)   
    101   33     n       java.lang.invoke.MethodHandle::linkToStatic(LLLLLLLLL)L (native)   (static)
    102   34     n       java.lang.invoke.MethodHandle::invokeBasic(LLLLLLLL)L (native)   
    103   35     n       java.lang.invoke.MethodHandle::linkToStatic(LLLLLLLLIL)L (native)   (static)
    104   36     n       java.lang.invoke.MethodHandle::invokeBasic(LLLLLLLLI)L (native)   
    105   37     n       java.lang.invoke.MethodHandle::linkToStatic(LLLLLLLLIIL)L (native)   (static)
    106   38     n       java.lang.invoke.MethodHandle::invokeBasic(LLLLLLLLII)L (native)   
    106   39    b        java.lang.String::charAt (25 bytes)
    107   40    b        java.lang.StringLatin1::charAt (28 bytes)
    108   41     n       java.lang.invoke.MethodHandle::linkToStatic(LLLLLLLLIILL)L (native)   (static)
    109   42     n       java.lang.invoke.MethodHandle::invokeBasic(L)L (native)   
    109   43     n       java.lang.invoke.MethodHandle::linkToSpecial(LLL)L (native)   (static)
    109   44     n       java.lang.invoke.MethodHandle::invokeBasic(LLLLLLLLIIL)L (native)   
    113   45    b        java.lang.String::coder (15 bytes)
    119   46    b        java.lang.invoke.DirectMethodHandle::internalMemberName (8 bytes)
    123   47    b        java.lang.String::length (11 bytes)
    124   48    b        java.lang.Integer::stringSize (47 bytes)
    128   49     n       java.lang.System::arraycopy (native)   (static)
    130   50    b        java.lang.String::<init> (15 bytes)
    135   51    b        java.lang.Integer::getChars (131 bytes)
    145   52    b        java.lang.String::getBytes (44 bytes)
    147   53    b        java.util.ArrayList::add (25 bytes)
    148   54    b        java.util.ArrayList::add (23 bytes)
    150   55    b        java.lang.invoke.DirectMethodHandle$Holder::invokeStatic (15 bytes)
    151   56    b        java.lang.invoke.DirectMethodHandle$Holder::invokeStatic (20 bytes)
    151   57    b        java.lang.StringConcatHelper::prepend (16 bytes)

Running the benchmark with a cold JVM
    154   58     n       java.lang.invoke.MethodHandle::linkToStatic(LL)I (native)   (static)
    155   53             java.util.ArrayList::add (25 bytes)   made not entrant
    155   59     n       java.lang.invoke.MethodHandle::linkToSpecial(LLLLLLLL)L (native)   (static)
    157   54             java.util.ArrayList::add (23 bytes)   made not entrant
    157   60     n       java.lang.invoke.MethodHandle::invokeBasic()L (native)   
    157   61     n       java.lang.invoke.MethodHandle::linkToSpecial(LL)L (native)   (static)
    157   62     n       java.lang.invoke.MethodHandle::linkToSpecial(LLL)I (native)   (static)
    160   63     n       java.lang.invoke.MethodHandle::linkToStatic(LIL)I (native)   (static)
    160   64    b        jdk.internal.org.objectweb.asm.ByteVector::putUTF8 (142 bytes)
    166   65     n       java.lang.invoke.MethodHandle::linkToStatic(IIIL)I (native)   (static)
    168   66     n       java.lang.invoke.MethodHandle::invokeBasic(LL)L (native)   
    168   67     n       java.lang.invoke.MethodHandle::linkToSpecial(LLLL)L (native)   (static)
    182   68    b        java.util.regex.Matcher::reset (128 bytes)
    186   69    b        java.util.regex.Matcher::match (154 bytes)
    193   70    b        java.util.regex.Pattern::has (15 bytes)
    197   71    b        java.util.Objects::requireNonNull (14 bytes)
    199   72    b        java.lang.StringLatin1::canEncode (13 bytes)
    200   73    b        java.lang.StringLatin1::indexOf (121 bytes)
    208   74    b        java.lang.AbstractStringBuilder::appendChars (133 bytes)
    225   75    b        java.util.regex.Pattern::peek (26 bytes)
    231   76    b        java.util.regex.Pattern::compile (498 bytes)
    270   77    b        java.lang.invoke.Invokers$Holder::linkToTargetMethod (9 bytes)
    270   78    b        java.lang.invoke.DirectMethodHandle$Holder::invokeStatic (14 bytes)
    271   79    b        java.util.Optional::isPresent (13 bytes)
    274   80    b        java.util.regex.Pattern::next (33 bytes)
    275   81    b        java.util.regex.Pattern::RemoveQEQuoting (346 bytes)
    291   82    b        java.lang.invoke.Invokers$Holder::linkToTargetMethod (8 bytes)
    292   83    b        java.lang.invoke.LambdaForm$MH/0x0000000800065440::invoke (8 bytes)
    292   84    b        java.util.Optional::filter (35 bytes)
    294   85    b        java.util.regex.Pattern$$Lambda$7/0x0000000800070040::is (13 bytes)
    294   86    b        java.util.regex.Pattern::lambda$Range$11 (7 bytes)
    295   87    b        java.util.regex.Pattern::inRange (16 bytes)
    297   88    b        java.util.regex.Pattern$Node::<init> (12 bytes)
    323   89    b        java.lang.String::toString (2 bytes)
    324   90    b        java.lang.invoke.DirectMethodHandle$Holder::invokeStatic (15 bytes)
    324   91    b        java.util.regex.Pattern$BmpCharProperty::<init> (6 bytes)
    326   92    b        java.util.regex.Pattern$CharProperty::<init> (10 bytes)
    327   93    b        java.util.regex.Pattern$Node::study (21 bytes)
    328   94    b        java.util.regex.Pattern::sequence (645 bytes)
    335   95    b        java.util.regex.Pattern::clazz (438 bytes)
    364   96    b        java.lang.AbstractStringBuilder::ensureCapacityInternal (39 bytes)
    370   97    b        java.lang.Math::max (11 bytes)
    375   98    b        java.lang.Math::min (11 bytes)
    376   99    b        java.util.ArrayList$Itr::hasNext (20 bytes)
    385  100    b        java.util.Optional::ofNullable (15 bytes)
    389  101    b        java.util.ArrayList$Itr::next (66 bytes)
    390  102    b        java.util.ArrayList$Itr::checkForComodification (23 bytes)
    391  103    b        FunctionalZipCode::isZipCodeValid (45 bytes)
    416  104    b        java.util.function.Predicate::not (12 bytes)
    418  105    b        java.util.function.Predicate::negate (7 bytes)
    419  106    b        java.util.function.Predicate$$Lambda$2/0x0000000800066440::get$Lambda (9 bytes)
    420  107    b        java.util.function.Predicate$$Lambda$2/0x0000000800066440::<init> (10 bytes)
    421  108    b        java.lang.invoke.Invokers$Holder::linkToTargetMethod (10 bytes)
    421  109    b        java.lang.invoke.DirectMethodHandle$Holder::invokeStatic (15 bytes)
    422  110    b        FunctionalZipCode$$Lambda$8/0x0000000800070440::get$Lambda (10 bytes)
    424  111    b        FunctionalZipCode$$Lambda$8/0x0000000800070440::<init> (15 bytes)
    425  112    b        java.util.Optional::or (32 bytes)
    427   96             java.lang.AbstractStringBuilder::ensureCapacityInternal (39 bytes)   made not entrant
    427  113     n       java.lang.invoke.MethodHandle::linkToStatic(DL)L (native)   (static)
    431  114     n       java.lang.invoke.MethodHandle::linkToStatic(ILIIL)I (native)   (static)
    431  115     n       java.lang.invoke.MethodHandle::invokeBasic(ILII)I (native)   
    431  116     n       java.lang.invoke.MethodHandle::linkToSpecial(LILIIL)I (native)   (static)
    433  117     n       java.lang.invoke.MethodHandle::linkToStatic(LLLLLLLLLL)L (native)   (static)
    434  118     n       java.lang.invoke.MethodHandle::invokeBasic(LLLLLLLLL)L (native)   
    435  119     n       java.lang.invoke.MethodHandle::linkToStatic(LLLLLLLLLLL)L (native)   (static)
    436  120     n       java.lang.invoke.MethodHandle::invokeBasic(LLLLLLLLLL)L (native)   
    436  121     n       java.lang.invoke.MethodHandle::linkToStatic(IIL)I (native)   (static)
    438  122     n       java.lang.invoke.MethodHandle::linkToStatic(LLLLLLLLLLLL)L (native)   (static)
    438  123     n       java.lang.invoke.MethodHandle::invokeBasic(II)I (native)   
    438  124     n       java.lang.invoke.MethodHandle::linkToSpecial(LIIL)I (native)   (static)
    439  125     n       java.lang.invoke.MethodHandle::invokeBasic(LLLLLLLLLLL)L (native)   
    439  126    b        java.lang.String::hashCode (49 bytes)
    443  127     n       java.lang.invoke.MethodHandle::linkToStatic(LLLLLLLLLLLLL)L (native)   (static)
    444  128     n       java.lang.invoke.MethodHandle::invokeBasic(LLLLLLLLLLLL)L (native)   
    445  129     n       java.lang.invoke.MethodHandle::linkToStatic(LLLLLLLLLLLLIL)L (native)   (static)
    446  130     n       java.lang.invoke.MethodHandle::invokeBasic(LLLLLLLLLLLLI)L (native)   
    446  131    b        java.util.Arrays::copyOfRange (63 bytes)
    448  132    b        java.lang.StringLatin1::newString (17 bytes)
    452  133     n       java.lang.invoke.MethodHandle::linkToStatic(LLLLLLLLLLLLIIL)L (native)   (static)
    453  134     n       java.lang.invoke.MethodHandle::invokeBasic(LLLLLLLLLLLLII)L (native)   
    454  135     n       java.lang.invoke.MethodHandle::linkToStatic(LLLLLLLLLLLLIILL)L (native)   (static)
    455  136     n       java.lang.invoke.MethodHandle::invokeBasic(D)L (native)   
    455  137     n       java.lang.invoke.MethodHandle::linkToSpecial(LDL)L (native)   (static)
    456  138     n       java.lang.invoke.MethodHandle::invokeBasic(LLLLLLLLLLLLIIL)L (native)   
    457  139     n       java.lang.invoke.MethodHandle::invokeBasic(DI)L (native)   
    457  140     n       java.lang.invoke.MethodHandle::linkToSpecial(LDIL)L (native)   (static)
Time elapsed: 273.053 ms valid codes = 6000
Warmup phase
    459  141    b        FunctionalZipCode::runTest (46 bytes)
    462  103             FunctionalZipCode::isZipCodeValid (45 bytes)   made not entrant
    469  142    b        java.util.function.Predicate$$Lambda$2/0x0000000800066440::test (9 bytes)
    470  143    b        java.util.function.Predicate::lambda$negate$1 (16 bytes)
    471  144    b        FunctionalZipCode$$Lambda$1/0x0000000800065040::test (8 bytes)
    472  145    b        Strings::isNullOrEmpty (17 bytes)
    474  146    b        java.lang.String::isEmpty (14 bytes)
    476  147    b        java.util.regex.Pattern::Range (36 bytes)
    477  148    b        java.lang.invoke.Invokers$Holder::linkToTargetMethod (10 bytes)
    477  149    b        java.util.regex.Pattern$$Lambda$7/0x0000000800070040::get$Lambda (10 bytes)
    478  150    b        java.util.regex.Pattern$$Lambda$7/0x0000000800070040::<init> (15 bytes)
    478  151    b        java.util.regex.Pattern::closure (365 bytes)
    481  152    b        java.util.regex.Pattern::curly (115 bytes)
    484  153    b        java.util.regex.Pattern$BmpCharPropertyGreedy::<init> (7 bytes)
    486  154    b        java.util.regex.Pattern$CharPropertyGreedy::<init> (18 bytes)
    488  155    b        java.util.regex.Pattern$CharPropertyGreedy::study (45 bytes)
    489  156    b        FunctionalZipCode$$Lambda$4/0x0000000800067440::test (8 bytes)
    507  157    b        FunctionalZipCode::lambda$isZipCodeValid$1 (7 bytes)
    524  158    b        java.lang.String::matches (6 bytes)
    542  159    b        java.util.regex.Pattern::matches (16 bytes)
    560  160    b        java.util.regex.Pattern::compile (10 bytes)
    563  161   !b        java.util.regex.Pattern::<init> (144 bytes)
    566  162   !b        java.util.regex.Pattern::matcher (44 bytes)
    579  163    b        java.util.regex.Matcher::<init> (95 bytes)
    591  164    b        java.util.regex.Matcher::matches (10 bytes)
    592  165    b        java.lang.AbstractStringBuilder::checkRange (60 bytes)
    593  166    b        java.lang.StringBuilder::append (10 bytes)
    605  167    b        java.lang.AbstractStringBuilder::append (43 bytes)
    624  168 %  b        FunctionalZipCode::runTest @ 11 (46 bytes)
    641  169    b        java.util.regex.Pattern$LastNode::match (45 bytes)
    643  170    b        java.lang.AbstractStringBuilder::isLatin1 (19 bytes)
    654  171    b        java.lang.StringBuilder::append (8 bytes)
    661  172    b        java.lang.AbstractStringBuilder::append (45 bytes)
    668  173    b        java.lang.AbstractStringBuilder::putStringAt (29 bytes)
    669  174    b        java.lang.AbstractStringBuilder::getCoder (15 bytes)
    673  175    b        java.lang.AbstractStringBuilder::<init> (39 bytes)
    675  176    b        java.lang.StringBuilder::toString (35 bytes)
    682  177    b        java.lang.String::indexOf (65 bytes)
    683  178    b        java.lang.StringLatin1::indexOf (25 bytes)
    684  179    b        java.lang.String::indexOf (18 bytes)
    685  180    b        java.lang.String::indexOf (113 bytes)
    686  181    b        java.lang.StringBuilder::<init> (6 bytes)
    687  182    b        java.lang.String::replace (149 bytes)
    699  183    b        FunctionalZipCode::isZipCodeValid (45 bytes)
  24911  184    b        java.util.ArrayList$Itr::<init> (26 bytes)
Test phase
Time elapsed: 2.297 ms valid codes = 6000

